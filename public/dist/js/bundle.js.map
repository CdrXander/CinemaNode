{"version":3,"sources":["app.js","controllers/coverCtrl.js","controllers/detailCtrl.js","controllers/homeCtrl.js","controllers/mainCtrl.js","controllers/searchCtrl.js","controllers/shelvesCtrl.js","services/apiService.js","services/dummyData.js","services/omdbService.js","coverDir.js","shelfDir.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","authCheck","$q","$timeout","$http","$state","$rootScope","deferred","defer","get","success","user","resolve","reject","go","promise","state","url","templateUrl","controller","loggedin","otherwise","run","$scope","apiService","getUserShelfList","then","shelfList","addMovieToShelf","movie","shelf_id","console","log","$stateParams","omdbService","fullMovie","getMovieDetails","id","omdbData","getMovieById","CNData","shelves","getReviewForUser","userReview","review","review_text","getReviewsForMovie","reviews","getUpdatedData","getShelvesForMovie","movieShelfList","response","shelfNames","showShelfList","isVisible","saveReview","imdbID","reviewSaved","isSelected","indexOf","updateMovieShelf","deleteShelfMovie","pageNotWorking","getCurrentUser","currentUser","loginLocal","loginEmail","loginPassword","user_id","searchForMovies","searchTitle","movies","serviceData","initialLoad","getUserMovies","currentShelf","loadMovieData","updateShelf","shelfIndex","service","email","password","data","movie_id","post","delete","reviewText","userRating","reviewData","user_rating","userMovies","Title","Poster","Year","own","watch","seen","getDummyData","title","searchResults","Search","directive","coverController","selected","reload","restrict","scope"],"mappings":";;AAAA;;;;;;AAMAA,QAAQC,MAAR,CAAe,YAAf,EAA6B,CAAC,WAAD,CAA7B,EAA4CC,MAA5C,CAAmD,UAASC,cAAT,EAAyBC,kBAAzB,EAA6C;;AAE/F,KAAIC,YAAY,SAAZA,SAAY,CAASC,EAAT,EAAaC,QAAb,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsCC,UAAtC,EAAkD;AACjE,MAAIC,WAAWL,GAAGM,KAAH,EAAf;AACAJ,QAAMK,GAAN,CAAU,WAAV,EAAuBC,OAAvB,CAA+B,UAASC,IAAT,EAAe;AAC7C,OAAGA,SAAS,GAAZ,EAAiB;AAChBJ,aAASK,OAAT;AACA,IAFD,MAEO;AACNL,aAASM,MAAT;AACAR,WAAOS,EAAP,CAAU,OAAV;AACA;AACD,GAPD;AAQA,SAAOP,SAASQ,OAAhB;AACA,EAXD;;AAcAhB,gBACEiB,KADF,CACQ,MADR,EACgB;AACdC,OAAK,OADS;AAEdC,eAAa,mBAFC;AAGdC,cAAY,UAHE;AAIdP,WAAS;AACRQ,aAASnB;AADD;AAJK,EADhB,EASEe,KATF,CASQ,SATR,EASmB;AACjBC,OAAK,UADY;AAEjBC,eAAY,sBAFK;AAGjBC,cAAW,aAHM;AAIjBP,WAAS;AACRQ,aAASnB;AADD;;AAJQ,EATnB,EAkBEe,KAlBF,CAkBQ,QAlBR,EAkBkB;AAChBC,OAAK,SADW;AAEhBC,eAAa,qBAFG;AAGhBC,cAAY,YAHI;AAIhBP,WAAS;AACRQ,aAASnB;AADD;AAJO,EAlBlB,EA0BEe,KA1BF,CA0BQ,SA1BR,EA0BmB;AACjBC,OAAK,cADY;AAEjBC,eAAa,qBAFI;AAGjBC,cAAY,YAHK;AAIjBP,WAAS;AACRQ,aAASnB;AADD;AAJQ,EA1BnB,EAkCEe,KAlCF,CAkCQ,OAlCR,EAkCiB;AACfC,OAAI,QADW;AAEfC,eAAY;AAFG,EAlCjB;;AAuCClB,oBAAmBqB,SAAnB,CAA6B,UAA7B;AAED,CAzDD,EAyDGC,GAzDH;;;ACNA1B,QAAQC,MAAR,CAAe,YAAf,EAA6BsB,UAA7B,CAAwC,WAAxC,EAAqD,UAASI,MAAT,EAAiBC,UAAjB,EAA6B;;AAEjFA,YAAWC,gBAAX,GAA8BC,IAA9B,CAAmC,qBAAa;AAC/CH,SAAOI,SAAP,GAAmBA,SAAnB;AACA,EAFD;;AAIAJ,QAAOK,eAAP,GAAyB,UAASC,KAAT,EAAgBC,QAAhB,EAA0B;AAClDN,aAAWI,eAAX,CAA2BC,KAA3B,EAAkCC,QAAlC,EAA4CJ,IAA5C,CAAiD,oBAAY;AAC5DK,WAAQC,GAAR,CAAY,aAAZ;AACA,GAFD;AAGA,EAJD;AAKA,CAXD;;;ACAApC,QAAQC,MAAR,CAAe,YAAf,EAA6BsB,UAA7B,CACC,YADD,EACe,UAASI,MAAT,EAAiBU,YAAjB,EAA+BC,WAA/B,EAA4CV,UAA5C,EAAwD;;AAGtE,KAAIW,YAAY,EAAhB;;AAEAD,aAAYE,eAAZ,CAA4BH,aAAaI,EAAzC,EAA6CX,IAA7C,CAAkD,oBAAY;AAC7DS,cAAYG,QAAZ;AACAd,aAAWe,YAAX,CAAwBN,aAAaI,EAArC,EAAyCX,IAAzC,CAA8C,kBAAU;AACvD,OAAG,CAAC,CAACc,MAAL,EAAa;AACZL,cAAUM,OAAV,GAAoBD,OAAOC,OAA3B;AACA;AACDlB,UAAOM,KAAP,GAAeM,SAAf;AACA,GALD;AAOA,EATD;;AAWAX,YAAWkB,gBAAX,CAA4BT,aAAaI,EAAzC,EAA6CX,IAA7C,CAAkD,kBAAU;AAC3DH,SAAOoB,UAAP,GAAoBC,OAAO,CAAP,EAAUC,WAA9B;AACA,EAFD;;AAIArB,YAAWsB,kBAAX,CAA8Bb,aAAaI,EAA3C,EAA+CX,IAA/C,CAAoD,mBAAW;AAC9DH,SAAOwB,OAAP,GAAiBA,OAAjB;AACA,EAFD;;AAKA;AACA,UAASC,cAAT,GAA0B;AACzBxB,aAAWyB,kBAAX,CAA8BhB,aAAaI,EAA3C,EAA+CX,IAA/C,CAAoD,oBAAY;AAC/DH,UAAO2B,cAAP,GAAwBC,SAASxB,SAAjC;AACAJ,UAAO6B,UAAP,GAAoBD,SAASC,UAA7B;AACA,GAHD;AAIA;;AAEDJ;;AAEAzB,QAAO8B,aAAP,GAAuB,YAAM;AAC5B9B,SAAO+B,SAAP,GAAmB,CAAC,CAAC,CAAC/B,OAAO+B,SAA7B;AACA,EAFD;;AAIA/B,QAAOgC,UAAP,GAAoB,YAAM;AACzB/B,aAAW+B,UAAX,CAAsBhC,OAAOM,KAAP,CAAa2B,MAAnC,EAA2CjC,OAAOoB,UAAlD,EAA8D,CAA9D,EAAiEjB,IAAjE,CAAsE,oBAAY;AACjFH,UAAOkC,WAAP,GAAqBN,QAArB;AACA,GAFD;AAIA,EALD;;AAOA5B,QAAOmC,UAAP,GAAoB,oBAAY;AAC/B,SAAOnC,OAAO2B,cAAP,CAAsBS,OAAtB,CAA8B7B,QAA9B,KAA2C,CAAlD;AACA,EAFD;;AAIAP,QAAOqC,gBAAP,GAA0B,oBAAY;;AAEpC,MAAGrC,OAAO2B,cAAP,CAAsBS,OAAtB,CAA8B7B,QAA9B,KAA2C,CAA9C,EAAiD;AAChDN,cAAWqC,gBAAX,CAA4BtC,OAAOM,KAAP,CAAa2B,MAAzC,EAAiD1B,QAAjD,EAA2DJ,IAA3D,CAAgE,oBAAY;AAC3EsB;AACA,IAFD;AAGA,GAJD,MAIO;AACNxB,cAAWI,eAAX,CAA2BL,OAAOM,KAAlC,EAAyCC,QAAzC,EAAmDJ,IAAnD,CAAwD,oBAAY;AACnEsB;AACA,IAFD;AAGA;AACD,EAXF;AAaA,CAhED;;;ACAApD,QAAQC,MAAR,CAAe,YAAf,EAA6BsB,UAA7B,CAAwC,UAAxC,EAAoD,UAASI,MAAT,EAAiB;;AAEpEA,QAAOuC,cAAP,GAAwB,uBAAxB;AAEA,CAJD;;;ACAAlE,QAAQC,MAAR,CAAe,YAAf,EAA6BsB,UAA7B,CAAwC,UAAxC,EAAoD,UAASI,MAAT,EAAiBC,UAAjB,EAA6B;;AAEhFD,QAAOuC,cAAP,GAAwB,yBAAxB;;AAEAtC,YAAWuC,cAAX,GAA4BrC,IAA5B,CAAiC,uBAAe;AAC/C,MAAG,CAAC,CAACsC,WAAL,EAAkB;AACjBzC,UAAOyC,WAAP,GAAqBA,WAArB;AACA,GAFD,MAEO;AACNzC,UAAOyC,WAAP,GAAqB,KAArB;AACA;AACD,EAND;;AAQAzC,QAAO0C,UAAP,GAAoB,YAAM;AACzBzC,aAAWyC,UAAX,CAAsB1C,OAAO2C,UAA7B,EAAyC3C,OAAO4C,aAAhD;AACA,EAFD;AAIA,CAhBD;;;ACAAvE,QAAQC,MAAR,CAAe,YAAf,EAA6BsB,UAA7B,CAAwC,YAAxC,EAAsD,UAASI,MAAT,EAAiBW,WAAjB,EAA8BV,UAA9B,EAA0C;;AAE/F,KAAI4C,UAAQ,CAAZ;;AAEA7C,QAAO8C,eAAP,GAAyB,YAAW;AACnCnC,cAAYmC,eAAZ,CAA4B9C,OAAO+C,WAAnC,EAAgD5C,IAAhD,CAAqD,uBAAe;AACnEH,UAAOgD,MAAP,GAAgBC,WAAhB;AACAzC,WAAQC,GAAR,CAAYT,OAAOgD,MAAnB;AACAhD,UAAO+C,WAAP,GAAqB,EAArB;AACA,GAJD;AAKA,EAND;AAOA,CAXD;;;ACAA1E,QAAQC,MAAR,CAAe,YAAf,EAA6BsB,UAA7B,CAAwC,aAAxC,EAAuD,UAASI,MAAT,EAAiBC,UAAjB,EAA6B;;AAEnFD,QAAOkD,WAAP,GAAqB,YAAW;AAC/BjD,aAAWkD,aAAX,GAA2BhD,IAA3B,CAAgC,uBAAe;AAC9CH,UAAOkB,OAAP,GAAkB+B,WAAlB;AACAjD,UAAOoD,YAAP,GAAsBpD,OAAOkB,OAAP,CAAe,CAAf,CAAtB;AACA,GAHD;AAIA,EALD;;AAOAlB,QAAOqD,aAAP,GAAuB,YAAW;AACjCpD,aAAWkD,aAAX,GAA2BhD,IAA3B,CAAgC,uBAAe;AAC9CH,UAAOkB,OAAP,GAAkB+B,WAAlB;AACA,GAFD;AAGA,EAJD;;AAMAjD,QAAOsD,WAAP,GAAqB,sBAAc;AAClCtD,SAAOoD,YAAP,GAAsBpD,OAAOkB,OAAP,CAAeqC,UAAf,CAAtB;AACA,EAFD;;AAKAvD,QAAOkD,WAAP;AACA,CArBD;;;ACAA7E,QAAQC,MAAR,CAAe,YAAf,EAA6BkF,OAA7B,CAAqC,YAArC,EAAmD,UAAS3E,KAAT,EAAgBF,EAAhB,EAAoB;;AAGvE;;AAEA;AACC,MAAK6D,cAAL,GAAsB,YAAM;AAC3B,MAAIxD,WAAWL,GAAGM,KAAH,EAAf;AACA,MAAIS,MAAM,eAAV;AACAb,QAAMK,GAAN,CAAUQ,GAAV,EACCP,OADD,CACS,oBAAY;AACpBH,YAASK,OAAT,CAAiBuC,QAAjB;AACA,GAHD;AAIA,SAAO5C,SAASQ,OAAhB;AACA,EARD;;AAWA,MAAKkD,UAAL,GAAkB,UAACe,KAAD,EAAQC,QAAR,EAAqB;AACtC,MAAI1E,WAAWL,GAAGM,KAAH,EAAf;AACA,MAAIS,MAAM,uBAAV;AACA,MAAIiE,OAAO;AACV,YAAQF,KADE;AAEV,eAAWC;AAFD,GAAX;AAIA,EAPD;AAQD;;AAEC;AACA,MAAKP,aAAL,GAAqB,YAAM;AAC1B,MAAInE,WAAWL,GAAGM,KAAH,EAAf;AACA,MAAIS,MAAM,WAAV;AACAb,QAAMK,GAAN,CAAUQ,GAAV,EACCP,OADD,CACS,oBAAY;AACpBH,YAASK,OAAT,CAAiBuC,QAAjB;AACA,GAHD;AAIA,SAAO5C,SAASQ,OAAhB;AACA,EARD;;AAUA;AACA,MAAKU,gBAAL,GAAwB,YAAM;AAC7B,MAAIlB,WAAWL,GAAGM,KAAH,EAAf;AACA,MAAIS,MAAM,gBAAV;AACAb,QAAMK,GAAN,CAAUQ,GAAV,EACCP,OADD,CACS,oBAAY;AACpBH,YAASK,OAAT,CAAiBuC,QAAjB;AACA,GAHD;AAIA,SAAO5C,SAASQ,OAAhB;AACA,EARD;;AAUA;AACA,MAAKkC,kBAAL,GAA0B,oBAAY;AACrC,MAAI1C,WAAWL,GAAGM,KAAH,EAAf;AACA,MAAIS,MAAM,oBAAoBkE,QAA9B;AACA/E,QAAMK,GAAN,CAAUQ,GAAV,EACCP,OADD,CACS,oBAAY;AACpBH,YAASK,OAAT,CAAiBuC,QAAjB;AACA,GAHD;AAIA,SAAO5C,SAASQ,OAAhB;AACA,EARD;;AAUD;;AAEC;AACA,MAAKa,eAAL,GAAuB,UAACC,KAAD,EAAQC,QAAR,EAAqB;;AAE3C,MAAIoD,OAAO;AACV,YAAQrD,KADE;AAEV,eAAWC;AAFD,GAAX;;AAKA,MAAIvB,WAAWL,GAAGM,KAAH,EAAf;AACA,MAAIS,MAAM,qBAAV;AACAb,QAAMgF,IAAN,CAAWnE,GAAX,EAAeiE,IAAf,EACCxE,OADD,CACS,oBAAY;AACpBH,YAASK,OAAT;AACA,GAHD;AAIA,SAAOL,SAASQ,OAAhB;AACA,EAdD;;AAgBA,MAAK8C,gBAAL,GAAwB,UAACsB,QAAD,EAAWrD,QAAX,EAAwB;AAC/C,MAAIvB,WAAWL,GAAGM,KAAH,EAAf;AACA,MAAIS,MAAM,wBAAsBa,QAAtB,GAA+B,GAA/B,GAAmCqD,QAA7C;AACA/E,QAAMiF,MAAN,CAAapE,GAAb,EAAkBP,OAAlB,CAA0B,oBAAY;AACrCH,YAASK,OAAT;AACA,GAFD;AAGA,SAAOL,SAASQ,OAAhB;AACA,EAPD;;AASA,MAAKwB,YAAL,GAAoB,oBAAY;AAC/B,MAAIhC,WAAWL,GAAGM,KAAH,EAAf;AACA,MAAIS,MAAM,mBAAmBkE,QAA7B;AACA/E,QAAMK,GAAN,CAAUQ,GAAV,EACCP,OADD,CACS,oBAAY;AACpB,OAAG,CAAC,CAACyC,QAAL,EAAe;AACd5C,aAASK,OAAT,CAAiBuC,QAAjB;AACA,IAFD,MAEO;AACN5C,aAASK,OAAT,CAAiB,IAAjB;AACA;AACD,GAPD;AAQA,SAAOL,SAASQ,OAAhB;AACA,EAZD;;AAiBD;;AAEC,MAAK+B,kBAAL,GAA0B,oBAAY;AACrC,MAAIvC,WAAWL,GAAGM,KAAH,EAAf;AACA,MAAIS,MAAM,mBAAmBkE,QAA7B;AACA/E,QAAMK,GAAN,CAAUQ,GAAV,EAAeP,OAAf,CAAuB,oBAAY;AAClCH,YAASK,OAAT,CAAiBuC,QAAjB;AACA,GAFD;AAGA,SAAO5C,SAASQ,OAAhB;AACA,EAPD;;AASA,MAAK2B,gBAAL,GAAwB,oBAAY;AACnC,MAAInC,WAAWL,GAAGM,KAAH,EAAf;AACA,MAAIS,MAAM,kBAAkBkE,QAA5B;AACA/E,QAAMK,GAAN,CAAUQ,GAAV,EAAeP,OAAf,CAAuB,oBAAY;AAClCH,YAASK,OAAT,CAAiBuC,QAAjB;AACA,GAFD;AAGA,SAAO5C,SAASQ,OAAhB;AACA,EAPD;;AASA,MAAKwC,UAAL,GAAkB,UAAC4B,QAAD,EAAWG,UAAX,EAAuBC,UAAvB,EAAsC;AACvD,MAAIC,aAAa;AAChBL,aAASA,QADO;AAEhBtC,gBAAYyC,UAFI;AAGhBG,gBAAYF;AAHI,GAAjB;;AAMA,MAAIhF,WAAWL,GAAGM,KAAH,EAAf;AACA,MAAIS,MAAM,aAAV;AACAb,QAAMgF,IAAN,CAAWnE,GAAX,EAAgBuE,UAAhB,EAA4B9E,OAA5B,CAAoC,oBAAY;AAC/C,OAAGyC,YAAY,KAAf,EAAsB;AACrB5C,aAASK,OAAT,CAAiB,IAAjB;AACA,IAFD,MAEO;AACNL,aAASK,OAAT,CAAiB,KAAjB;AACA;AACD,GAND;AAOA,SAAOL,SAASQ,OAAhB;AACA,EAjBD;AAmBA,CAhJD;;;ACAAnB,QAAQC,MAAR,CAAe,YAAf,EAA6BkF,OAA7B,CAAqC,kBAArC,EAAyD,YAAW;;AAInE,KAAIW,aAAa,CACf;AACElC,UAAQ,WADV;AAEEmC,SAAO,eAFT;AAGEC,UAAQ,6GAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,IALP;AAMEC,SAAO,KANT;AAOEC,QAAM;AAPR,EADe,EAUf;AACExC,UAAQ,WADV;AAEEmC,SAAO,iBAFT;AAGEC,UAAQ,iHAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,IALP;AAMEC,SAAO,KANT;AAOEC,QAAM;AAPR,EAVe,EAmBf;AACExC,UAAQ,WADV;AAEEmC,SAAO,uBAFT;AAGEC,UAAQ,iHAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,IALP;AAMEC,SAAO,KANT;AAOEC,QAAM;AAPR,EAnBe,EA4Bf;AACExC,UAAQ,WADV;AAEEmC,SAAO,yCAFT;AAGEC,UAAQ,iHAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,KALP;AAMEC,SAAO,IANT;AAOEC,QAAM;AAPR,EA5Be,EAqCf;AACExC,UAAQ,WADV;AAEEmC,SAAO,yCAFT;AAGEC,UAAQ,iHAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,KALP;AAMEC,SAAO,IANT;AAOEC,QAAM;AAPR,EArCe,EA8Cf;AACExC,UAAQ,WADV;AAEEmC,SAAO,eAFT;AAGEC,UAAQ,iHAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,IALP;AAMEC,SAAO,KANT;AAOEC,QAAM;AAPR,EA9Ce,EAuDf;AACExC,UAAQ,WADV;AAEEmC,SAAO,+BAFT;AAGEC,UAAQ,iJAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,KALP;AAMEC,SAAO,IANT;AAOEC,QAAM;AAPR,EAvDe,EAgEf;AACExC,UAAQ,WADV;AAEEmC,SAAO,mBAFT;AAGEC,UAAQ,iJAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,KALP;AAMEC,SAAO,IANT;AAOEC,QAAM;AAPR,EAhEe,EAyEf;AACExC,UAAQ,WADV;AAEEmC,SAAO,gBAFT;AAGEC,UAAQ,iHAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,KALP;AAMEC,SAAO,IANT;AAOEC,QAAM;AAPR,EAzEe,EAkFf;AACExC,UAAQ,WADV;AAEEmC,SAAO,gDAFT;AAGEC,UAAQ,iJAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,IALP;AAMEC,SAAO,IANT;AAOEC,QAAM;AAPR,EAlFe,EA2Ff;AACExC,UAAQ,WADV;AAEEmC,SAAO,4CAFT;AAGEC,UAAQ,iJAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,IALP;AAMEC,SAAO,IANT;AAOEC,QAAM;AAPR,EA3Fe,EAoGf;AACExC,UAAQ,WADV;AAEEmC,SAAO,oCAFT;AAGEC,UAAQ,iJAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,IALP;AAMEC,SAAO,IANT;AAOEC,QAAM;AAPR,EApGe,EA6Gf;AACExC,UAAQ,WADV;AAEEmC,SAAO,8BAFT;AAGEC,UAAQ,iHAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,KALP;AAMEC,SAAO,IANT;AAOEC,QAAM;AAPR,EA7Ge,EAsHf;AACExC,UAAQ,WADV;AAEEmC,SAAO,2CAFT;AAGEC,UAAQ,iJAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,IALP;AAMEC,SAAO,KANT;AAOEC,QAAM;AAPR,EAtHe,EA+Hf;AACExC,UAAQ,WADV;AAEEmC,SAAO,8CAFT;AAGEC,UAAQ,iHAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,IALP;AAMEC,SAAO,KANT;AAOEC,QAAM;AAPR,EA/He,EAwIf;AACExC,UAAQ,WADV;AAEEmC,SAAO,8CAFT;AAGEC,UAAQ,iJAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,IALP;AAMEC,SAAO,KANT;AAOEC,QAAM;AAPR,EAxIe,EAiJf;AACExC,UAAQ,WADV;AAEEmC,SAAO,8BAFT;AAGEC,UAAQ,iHAHV;AAIEC,QAAM,MAJR;AAKEC,OAAK,KALP;AAMEC,SAAO,IANT;AAOEC,QAAM;AAPR,EAjJe,CAAjB;;AA4JA,MAAKC,YAAL,GAAoB,YAAW;AAC9B,SAAOP,UAAP;AACA,EAFD;AAGA,CAnKD;;;ACAA9F,QAAQC,MAAR,CAAe,YAAf,EAA6BkF,OAA7B,CAAqC,aAArC,EAAoD,UAAS3E,KAAT,EAAgBF,EAAhB,EAAoB;;AAEvE;AACA,MAAKmE,eAAL,GAAuB,iBAAS;AAC/B,MAAI9D,WAAWL,GAAGM,KAAH,EAAf;;AAEA,MAAIS,MAAM,gCAAgCiF,KAAhC,GAAwC,SAAlD;AACA9F,QAAMK,GAAN,CAAUQ,GAAV,EACCP,OADD,CACS,oBAAY;AACpB,OAAIyF,gBAAgBhD,SAASiD,MAA7B;AACA7F,YAASK,OAAT,CAAiBuF,aAAjB;AACA,GAJD;AAKA,SAAO5F,SAASQ,OAAhB;AACA,EAVD;;AAYA,MAAKqB,eAAL,GAAuB,cAAM;AAC5B,MAAI7B,WAAWL,GAAGM,KAAH,EAAf;AACG,MAAIS,MAAM,gCAAgCoB,EAAhC,GAAqC,iCAA/C;;AAEAjC,QAAMK,GAAN,CAAUQ,GAAV,EACCP,OADD,CACU,oBAAY;AACrBH,YAASK,OAAT,CAAiBuC,QAAjB;AACA,GAHD;AAIA,SAAO5C,SAASQ,OAAhB;AACH,EATD;AAWA,CA1BD;;;ACAAnB,QAAQC,MAAR,CAAe,YAAf,EAA6BwG,SAA7B,CAAuC,cAAvC,EAAuD,YAAU;;AAGhE,KAAIC,kBAAkB,CAAC,QAAD,EAAW,YAAX,EAAyB,UAAS/E,MAAT,EAAiBC,UAAjB,EAA6B;AAC3ED,SAAOK,eAAP,GAAyB,UAASE,QAAT,EAAmB;AAC3CN,cAAWI,eAAX,CAA2BL,OAAOM,KAAlC,EAAyCC,QAAzC,EAAmDJ,IAAnD,CAAwD,oBAAY;AACnEK,YAAQC,GAAR,CAAY,aAAZ;AACA,IAFD;AAGA,GAJD;;AAMA;AACA,WAASgB,cAAT,GAA0B;AACzBxB,cAAWyB,kBAAX,CAA8B1B,OAAOM,KAAP,CAAa2B,MAA3C,EAAmD9B,IAAnD,CAAwD,oBAAY;AACnEH,WAAO2B,cAAP,GAAwBC,SAASxB,SAAjC;AACAJ,WAAO6B,UAAP,GAAoBD,SAASC,UAA7B;AACA,IAHD;AAIA;;AAGD7B,SAAO8B,aAAP,GAAuB,YAAM;AAC5BL;AACAzB,UAAO+B,SAAP,GAAmB,CAAC,CAAC,CAAC/B,OAAO+B,SAA7B;AACA,GAHD;;AAKA/B,SAAOmC,UAAP,GAAoB,oBAAY;AAC/B,OAAI6C,WAAWhF,OAAO2B,cAAP,CAAsBS,OAAtB,CAA8B7B,QAA9B,KAA2C,CAA1D;AACA,UAAOyE,QAAP;AACA,GAHD;;AAKAhF,SAAOqC,gBAAP,GAA0B,oBAAY;;AAErC,OAAGrC,OAAO2B,cAAP,CAAsBS,OAAtB,CAA8B7B,QAA9B,KAA2C,CAA9C,EAAiD;AAChDN,eAAWqC,gBAAX,CAA4BtC,OAAOM,KAAP,CAAa2B,MAAzC,EAAiD1B,QAAjD,EAA2DJ,IAA3D,CAAgE,oBAAY;AAC3EsB;AACAzB,YAAOiF,MAAP;AACA,KAHD;AAIA,IALD,MAKO;AACNhF,eAAWI,eAAX,CAA2BL,OAAOM,KAAlC,EAAyCC,QAAzC,EAAmDJ,IAAnD,CAAwD,oBAAY;AACnEsB;AACAzB,YAAOiF,MAAP;AACA,KAHD;AAIA;AACD,GAbD;AAeA,EAzCqB,CAAtB;;AA6CA,QAAO;AACNC,YAAU,GADJ;AAENvF,eAAa,4BAFP;AAGNwF,SAAO;AACN7E,UAAO,GADD;AAEN2E,WAAQ;AAFF,GAHD;AAONrF,cAAWmF;AAPL,EAAP;AASA,CAzDD;;;ACAA1G,QAAQC,MAAR,CAAe,YAAf,EAA6BwG,SAA7B,CAAuC,cAAvC,EAAuD,YAAW;;AAEjE;AACA;AACA;AACA;AACA;;AAEA,QAAO;AACNI,YAAU,GADJ;AAENvF,eAAY,4BAFN;AAGNwF,SAAO;AACNnC,WAAQ,GADF;AAENiC,WAAQ;AAFF;AAHD,EAAP;AAQA,CAhBD","file":"bundle.js","sourcesContent":["/*\r\n*\r\n*\tCore Angular routing app\r\n*\tAuthor: Xander Hacking\r\n*\r\n*/\r\nangular.module('cinemaNode', ['ui.router']).config(function($stateProvider, $urlRouterProvider) {\r\n\t\r\n\tvar authCheck = function($q, $timeout, $http, $state, $rootScope) {\r\n\t\tvar deferred = $q.defer();\r\n\t\t$http.get('/loggedin').success(function(user) {\r\n\t\t\tif(user !== '0') {\r\n\t\t\t\tdeferred.resolve();\r\n\t\t\t} else {\r\n\t\t\t\tdeferred.reject();\r\n\t\t\t\t$state.go('login');\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n\r\n\t$stateProvider\r\n\t\t.state('home', {\r\n\t\t\turl: '/home',\r\n\t\t\ttemplateUrl: './views/home.html',\r\n\t\t\tcontroller: 'homeCtrl',\r\n\t\t\tresolve: {\r\n\t\t\t\tloggedin:authCheck\r\n\t\t\t}\r\n\t\t})\r\n\t\t.state('shelves', {\r\n\t\t\turl: '/shelves',\r\n\t\t\ttemplateUrl:'./views/shelves.html',\r\n\t\t\tcontroller:'shelvesCtrl',\r\n\t\t\tresolve: {\r\n\t\t\t\tloggedin:authCheck\r\n\t\t\t}\r\n\r\n\t\t})\r\n\t\t.state('search', {\r\n\t\t\turl: '/search',\r\n\t\t\ttemplateUrl: './views/search.html',\r\n\t\t\tcontroller: 'searchCtrl',\r\n\t\t\tresolve: {\r\n\t\t\t\tloggedin:authCheck\r\n\t\t\t}\r\n\t\t})\r\n\t\t.state('details', {\r\n\t\t\turl: '/details/:id',\r\n\t\t\ttemplateUrl: './views/detail.html',\r\n\t\t\tcontroller: 'detailCtrl',\r\n\t\t\tresolve: {\r\n\t\t\t\tloggedin:authCheck\r\n\t\t\t}\r\n\t\t})\r\n\t\t.state('login', {\r\n\t\t\turl:'/login',\r\n\t\t\ttemplateUrl:'./views/login.html'\r\n\t\t});\r\n\r\n\t\t$urlRouterProvider.otherwise('/shelves');\r\n\r\n}).run();\r\n","angular.module('cinemaNode').controller('coverCtrl', function($scope, apiService) {\r\n\t\r\n\tapiService.getUserShelfList().then(shelfList => {\r\n\t\t$scope.shelfList = shelfList;\r\n\t}); \r\n\r\n\t$scope.addMovieToShelf = function(movie, shelf_id) {\r\n\t\tapiService.addMovieToShelf(movie, shelf_id).then(response => {\r\n\t\t\tconsole.log(\"movie saved\");\r\n\t\t})\r\n\t}\r\n});\t\r\n","angular.module('cinemaNode').controller(\r\n\t'detailCtrl', function($scope, $stateParams, omdbService, apiService) {\r\n\r\n\r\n\tvar fullMovie = {};\r\n\r\n\tomdbService.getMovieDetails($stateParams.id).then(omdbData => {\r\n\t\tfullMovie = omdbData;\r\n\t\tapiService.getMovieById($stateParams.id).then(CNData => {\r\n\t\t\tif(!!CNData) {\r\n\t\t\t\tfullMovie.shelves = CNData.shelves;\r\n\t\t\t}\r\n\t\t\t$scope.movie = fullMovie;\r\n\t\t})\r\n\r\n\t});\r\n\r\n\tapiService.getReviewForUser($stateParams.id).then(review => {\r\n\t\t$scope.userReview = review[0].review_text;\r\n\t});\r\n\r\n\tapiService.getReviewsForMovie($stateParams.id).then(reviews => {\r\n\t\t$scope.reviews = reviews;\r\n\t});\r\n\r\n\r\n\t//These functions make the add to dialog work\r\n\tfunction getUpdatedData() {\r\n\t\tapiService.getShelvesForMovie($stateParams.id).then(response => {\r\n\t\t\t$scope.movieShelfList = response.shelfList;\r\n\t\t\t$scope.shelfNames = response.shelfNames;\r\n\t\t});\t\r\n\t}\r\n\t\r\n\tgetUpdatedData();\r\n\r\n\t$scope.showShelfList = () => {\r\n\t\t$scope.isVisible = !!!$scope.isVisible;\r\n\t}\r\n\r\n\t$scope.saveReview = () => {\r\n\t\tapiService.saveReview($scope.movie.imdbID, $scope.userReview, 5).then(response => {\r\n\t\t\t$scope.reviewSaved = response;\r\n\t\t})\r\n\r\n\t}\r\n\t\r\n\t$scope.isSelected = shelf_id => {\r\n\t\treturn $scope.movieShelfList.indexOf(shelf_id) >= 0\r\n\t}\r\n\r\n\t$scope.updateMovieShelf = shelf_id => {\r\n\t\t\t\r\n\t\t\tif($scope.movieShelfList.indexOf(shelf_id) >= 0) {\r\n\t\t\t\tapiService.deleteShelfMovie($scope.movie.imdbID, shelf_id).then(response => {\r\n\t\t\t\t\tgetUpdatedData();\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tapiService.addMovieToShelf($scope.movie, shelf_id).then(response => {\r\n\t\t\t\t\tgetUpdatedData();\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n})","angular.module('cinemaNode').controller('homeCtrl', function($scope) {\r\n\r\n\t$scope.pageNotWorking = \"Home Page is Working!\";\r\n\r\n})","angular.module('cinemaNode').controller('mainCtrl', function($scope, apiService) {\r\n\r\n\t$scope.pageNotWorking = \"Main Controller Working\";\r\n\r\n\tapiService.getCurrentUser().then(currentUser => {\r\n\t\tif(!!currentUser) {\r\n\t\t\t$scope.currentUser = currentUser;\r\n\t\t} else {\r\n\t\t\t$scope.currentUser = false;\r\n\t\t}\r\n\t})\r\n\r\n\t$scope.loginLocal = () => {\r\n\t\tapiService.loginLocal($scope.loginEmail, $scope.loginPassword);\r\n\t}\r\n\r\n})","angular.module('cinemaNode').controller('searchCtrl', function($scope, omdbService, apiService) {\r\n\r\n\tvar user_id=1;\r\n\r\n\t$scope.searchForMovies = function() {\r\n\t\tomdbService.searchForMovies($scope.searchTitle).then(serviceData => {\r\n\t\t\t$scope.movies = serviceData;\r\n\t\t\tconsole.log($scope.movies);\r\n\t\t\t$scope.searchTitle = '';\r\n\t\t})\r\n\t}\r\n});","angular.module('cinemaNode').controller('shelvesCtrl', function($scope, apiService) {\r\n\r\n\t$scope.initialLoad = function() {\r\n\t\tapiService.getUserMovies().then(serviceData => {\r\n\t\t\t$scope.shelves \t= serviceData;\r\n\t\t\t$scope.currentShelf = $scope.shelves[0];\r\n\t\t});\r\n\t}\r\n\r\n\t$scope.loadMovieData = function() {\r\n\t\tapiService.getUserMovies().then(serviceData => {\r\n\t\t\t$scope.shelves \t= serviceData;\r\n\t\t});\r\n\t}\r\n\r\n\t$scope.updateShelf = shelfIndex => {\r\n\t\t$scope.currentShelf = $scope.shelves[shelfIndex];\r\n\t}\r\n\r\n\r\n\t$scope.initialLoad();\r\n})","angular.module(\"cinemaNode\").service(\"apiService\", function($http, $q) {\r\n\r\n\t\r\n//AUTHENTICATION\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\r\n\r\n//USERS =\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\r\n\tthis.getCurrentUser = () => {\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar url = \"/user/current\";\r\n\t\t$http.get(url)\r\n\t\t.success(response => {\r\n\t\t\tdeferred.resolve(response);\r\n\t\t})\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n\r\n\tthis.loginLocal = (email, password) => {\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar url = \"/api/auth/local/login\";\r\n\t\tvar data = {\r\n\t\t\t'email':email,\r\n\t\t\t'password':password\r\n\t\t}\r\n\t}\r\n//SHELVES \t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\r\n\r\n\t//GET shelves/movies for a user\r\n\tthis.getUserMovies = () => {\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar url = \"/shelves/\";\r\n\t\t$http.get(url)\r\n\t\t.success(response => {\r\n\t\t\tdeferred.resolve(response);\r\n\t\t})\r\n\t\treturn deferred.promise;\r\n\t} \r\n\r\n\t//GET list of shelf names for user\r\n\tthis.getUserShelfList = () => {\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar url = \"/shelves/list/\";\r\n\t\t$http.get(url)\r\n\t\t.success(response => {\r\n\t\t\tdeferred.resolve(response);\r\n\t\t})\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n\t//GET shelf list for a movie/user combo\r\n\tthis.getShelvesForMovie = movie_id => {\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar url = \"/shelves/movie/\" + movie_id;\r\n\t\t$http.get(url)\r\n\t\t.success(response => {\r\n\t\t\tdeferred.resolve(response);\r\n\t\t})\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n//MOVIES \t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\r\n\r\n\t//CREATE record in shelf_movie (no need for user id, as is tied to shelf)\r\n\tthis.addMovieToShelf = (movie, shelf_id) => {\r\n\r\n\t\tvar data = {\r\n\t\t\t'movie':movie,\r\n\t\t\t'shelf_id':shelf_id\r\n\t\t};\r\n\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar url = \"/movies/addtoshelf/\";\r\n\t\t$http.post(url,data)\r\n\t\t.success(response => {\r\n\t\t\tdeferred.resolve();\r\n\t\t});\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n\tthis.deleteShelfMovie = (movie_id, shelf_id) => {\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar url = \"/movies/shelfmovie/\"+shelf_id+\"/\"+movie_id;\r\n\t\t$http.delete(url).success(response => {\r\n\t\t\tdeferred.resolve();\r\n\t\t});\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n\tthis.getMovieById = movie_id => {\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar url = \"/movies/movie/\" + movie_id;\r\n\t\t$http.get(url)\r\n\t\t.success(response => {\r\n\t\t\tif(!!response) {\r\n\t\t\t\tdeferred.resolve(response);\r\n\t\t\t} else {\r\n\t\t\t\tdeferred.resolve(null);\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n\r\n\r\n\r\n//REVIEWS \t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\t=\r\n\r\n\tthis.getReviewsForMovie = movie_id => {\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar url = \"/review/movie/\" + movie_id;\r\n\t\t$http.get(url).success(response => {\r\n\t\t\tdeferred.resolve(response);\r\n\t\t});\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n\tthis.getReviewForUser = movie_id => {\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar url = \"/review/user/\" + movie_id;\r\n\t\t$http.get(url).success(response => {\r\n\t\t\tdeferred.resolve(response);\r\n\t\t});\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n\tthis.saveReview = (movie_id, reviewText, userRating) => {\r\n\t\tvar reviewData = {\r\n\t\t\tmovie_id:movie_id,\r\n\t\t\treview_text:reviewText,\r\n\t\t\tuser_rating:userRating\r\n\t\t}\r\n\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar url = '/review/new';\r\n\t\t$http.post(url, reviewData).success(response => {\r\n\t\t\tif(response == \"200\") {\r\n\t\t\t\tdeferred.resolve(true);\r\n\t\t\t} else {\r\n\t\t\t\tdeferred.resolve(false);\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n})","angular.module('cinemaNode').service('dummyDataService', function() {\r\n\r\n\r\n\r\n\tvar userMovies = [\r\n\t  {\r\n\t    imdbID: 'tt0372784',\r\n\t    Title: 'Batman Begins',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BNTM3OTc0MzM2OV5BMl5BanBnXkFtZTYwNzUwMTI3._V1_SX300.jpg',\r\n\t    Year: '2005',\r\n\t    own: true,\r\n\t    watch: false,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt0468569',\r\n\t    Title: 'The Dark Knight',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BMTMxNTMwODM0NF5BMl5BanBnXkFtZTcwODAyMTk2Mw@@._V1_SX300.jpg',\r\n\t    Year: '2008',\r\n\t    own: true,\r\n\t    watch: false,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt1345836',\r\n\t    Title: 'The Dark Knight Rises',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BMTk4ODQzNDY3Ml5BMl5BanBnXkFtZTcwODA0NTM4Nw@@._V1_SX300.jpg',\r\n\t    Year: '2012',\r\n\t    own: true,\r\n\t    watch: false,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt2313197',\r\n\t    Title: 'Batman: The Dark Knight Returns, Part 1',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BMzIxMDkxNDM2M15BMl5BanBnXkFtZTcwMDA5ODY1OQ@@._V1_SX300.jpg',\r\n\t    Year: '2012',\r\n\t    own: false,\r\n\t    watch: true,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt2166834',\r\n\t    Title: 'Batman: The Dark Knight Returns, Part 2',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BMTQ1Mjk1NTY2NV5BMl5BanBnXkFtZTgwMTA2MDEwNzE@._V1_SX300.jpg',\r\n\t    Year: '2013',\r\n\t    own: false,\r\n\t    watch: true,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt0107290',\r\n\t    Title: 'Jurassic Park',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BMjM2MDgxMDg0Nl5BMl5BanBnXkFtZTgwNTM2OTM5NDE@._V1_SX300.jpg',\r\n\t    Year: '1993',\r\n\t    own: true,\r\n\t    watch: false,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt0119567',\r\n\t    Title: 'The Lost World: Jurassic Park',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BMDFlMmM4Y2QtNDg1ZS00MWVlLTlmODgtZDdhYjY5YjdhN2M0XkEyXkFqcGdeQXVyNTI4MjkwNjA@._V1_SX300.jpg',\r\n\t    Year: '1997',\r\n\t    own: false,\r\n\t    watch: true,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt0163025',\r\n\t    Title: 'Jurassic Park III',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BZTU1ZWU4ZjUtZDMwYS00MmU4LWI3Y2UtZWVjMWIzODMyOWQ4XkEyXkFqcGdeQXVyNTM2NTY4NzU@._V1_SX300.jpg',\r\n\t    Year: '2001',\r\n\t    own: false,\r\n\t    watch: true,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt0369610',\r\n\t    Title: 'Jurassic World',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BMTQ5MTE0MTk3Nl5BMl5BanBnXkFtZTgwMjczMzk2NTE@._V1_SX300.jpg',\r\n\t    Year: '2015',\r\n\t    own: false,\r\n\t    watch: true,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt0080684',\r\n\t    Title: 'Star Wars: Episode V - The Empire Strikes Back',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BYmViY2M2MTYtY2MzOS00YjQ1LWIzYmEtOTBiNjhlMGM0NjZjXkEyXkFqcGdeQXVyNDYyMDk5MTU@._V1_SX300.jpg',\r\n\t    Year: '1980',\r\n\t    own: true,\r\n\t    watch: true,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt0086190',\r\n\t    Title: 'Star Wars: Episode VI - Return of the Jedi',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BODllZjg2YjUtNWEzNy00ZGY2LTgyZmQtYTkxNDYyOWM3OTUyXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SX300.jpg',\r\n\t    Year: '1983',\r\n\t    own: true,\r\n\t    watch: true,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt0076759',\r\n\t    Title: 'Star Wars: Episode IV - A New Hope',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BZGEzZTExMDEtNjg4OC00NjQxLTk5NTUtNjRkNjA3MmYwZjg1XkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SX300.jpg',\r\n\t    Year: '1977',\r\n\t    own: true,\r\n\t    watch: true,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt2488496',\r\n\t    Title: 'Star Wars: The Force Awakens',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BOTAzODEzNDAzMl5BMl5BanBnXkFtZTgwMDU1MTgzNzE@._V1_SX300.jpg',\r\n\t    Year: '2015',\r\n\t    own: false,\r\n\t    watch: true,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt0120915',\r\n\t    Title: 'Star Wars: Episode I - The Phantom Menace',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BM2FmZGIwMzAtZTBkMS00M2JiLTk2MDctM2FlNTQ2OWYwZDZkXkEyXkFqcGdeQXVyNDYyMDk5MTU@._V1_SX300.jpg',\r\n\t    Year: '1999',\r\n\t    own: true,\r\n\t    watch: false,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt0121766',\r\n\t    Title: 'Star Wars: Episode III - Revenge of the Sith',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BNTc4MTc3NTQ5OF5BMl5BanBnXkFtZTcwOTg0NjI4NA@@._V1_SX300.jpg',\r\n\t    Year: '2005',\r\n\t    own: true,\r\n\t    watch: false,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt0121765',\r\n\t    Title: 'Star Wars: Episode II - Attack of the Clones',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BNDRkYzA4OGYtOTBjYy00YzFiLThhYmYtMWUzMDBmMmZkM2M3XkEyXkFqcGdeQXVyNDYyMDk5MTU@._V1_SX300.jpg',\r\n\t    Year: '2002',\r\n\t    own: true,\r\n\t    watch: false,\r\n\t    seen: true\r\n\t  },\r\n\t  {\r\n\t    imdbID: 'tt3748528',\r\n\t    Title: 'Rogue One: A Star Wars Story',\r\n\t    Poster: 'https://images-na.ssl-images-amazon.com/images/M/MV5BMjEwMzMxODIzOV5BMl5BanBnXkFtZTgwNzg3OTAzMDI@._V1_SX300.jpg',\r\n\t    Year: '2016',\r\n\t    own: false,\r\n\t    watch: true,\r\n\t    seen: true\r\n\t  }\r\n\t]\t\r\n\r\n\tthis.getDummyData = function() {\r\n\t\treturn userMovies;\r\n\t}\r\n}) \r\n\r\n\r\n\r\n","angular.module('cinemaNode').service('omdbService', function($http, $q) {\r\n\r\n\t//Acquire search results for a movie\r\n\tthis.searchForMovies = title => {\r\n\t\tvar deferred = $q.defer();\r\n\r\n\t\tvar url = \"https://www.omdbapi.com/?s=\" + title + \"&page=1\";\r\n\t\t$http.get(url)\r\n\t\t.success(response => {\r\n\t\t\tvar searchResults = response.Search;\r\n\t\t\tdeferred.resolve(searchResults);\r\n\t\t})\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n\tthis.getMovieDetails = id => {\r\n\t\tvar deferred = $q.defer();\r\n\t    var url = \"https://www.omdbapi.com/?i=\" + id + \"&plot=full&r=json&tomatoes=true\";\r\n\r\n\t    $http.get(url) \r\n\t    .success( response => {\r\n\t    \tdeferred.resolve(response);\r\n\t    })\r\n\t    return deferred.promise;\r\n\t}\r\n\r\n})","angular.module('cinemaNode').directive('movieDisplay', function(){\r\n\r\n\r\n\tvar coverController = ['$scope', 'apiService', function($scope, apiService) {\r\n\t\t$scope.addMovieToShelf = function(shelf_id) {\r\n\t\t\tapiService.addMovieToShelf($scope.movie, shelf_id).then(response => {\r\n\t\t\t\tconsole.log(\"movie saved\");\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//All these functions make the \"Add to\" dialogue work\r\n\t\tfunction getUpdatedData() {\r\n\t\t\tapiService.getShelvesForMovie($scope.movie.imdbID).then(response => {\r\n\t\t\t\t$scope.movieShelfList = response.shelfList;\r\n\t\t\t\t$scope.shelfNames = response.shelfNames;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\t$scope.showShelfList = () => {\r\n\t\t\tgetUpdatedData();\r\n\t\t\t$scope.isVisible = !!!$scope.isVisible;\r\n\t\t}\r\n\r\n\t\t$scope.isSelected = shelf_id => {\r\n\t\t\tvar selected = $scope.movieShelfList.indexOf(shelf_id) >= 0\r\n\t\t\treturn selected;\r\n\t\t}\r\n\r\n\t\t$scope.updateMovieShelf = shelf_id => {\r\n\t\t\t\r\n\t\t\tif($scope.movieShelfList.indexOf(shelf_id) >= 0) {\r\n\t\t\t\tapiService.deleteShelfMovie($scope.movie.imdbID, shelf_id).then(response => {\r\n\t\t\t\t\tgetUpdatedData();\r\n\t\t\t\t\t$scope.reload();\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tapiService.addMovieToShelf($scope.movie, shelf_id).then(response => {\r\n\t\t\t\t\tgetUpdatedData();\r\n\t\t\t\t\t$scope.reload();\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}]\r\n\r\n\r\n\r\n\treturn {\r\n\t\trestrict: \"E\",\r\n\t\ttemplateUrl: './directives/coverDir.html',\r\n\t\tscope: {\r\n\t\t\tmovie: '=',\r\n\t\t\treload: '&'\r\n\t\t},\r\n\t\tcontroller:coverController\r\n\t}\r\n})","angular.module('cinemaNode').directive('shelfDisplay', function() {\r\n\t\r\n\t// var dirController = ['$scope', 'apiService', function($scope, apiService) {\r\n\t// \tapiService.getUserShelfList().then(shelfList => {\r\n\t// \t\t$scope.shelfList = shelfList;\r\n\t// \t}); \t\r\n\t// }]\r\n\r\n\treturn {\r\n\t\trestrict: \"E\",\r\n\t\ttemplateUrl:'./directives/shelfDir.html',\r\n\t\tscope: {\r\n\t\t\tmovies: \"=\",\r\n\t\t\treload: '&'\r\n\t\t}\r\n\t}\r\n})"]}